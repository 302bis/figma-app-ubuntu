{"version":3,"file":"targetUtil.js","sourceRoot":"","sources":["../../src/targets/targetUtil.ts"],"names":[],"mappings":";;;;;;;;;;;;;;oEAoBO,AAAK,WAA0B,AAAc,QAAE,AAAU;AAC9D,cAAM,AAAO,UAAG,AAAI,MAAC,AAAI,KAAC,AAAM,OAAC,AAAM,AAAE,aAAK,AAAM,OAAC,AAAI,aAAS,AAAI,2CAAC,AAAI,AAAC,KAAE,AAAC;AAC/E,cAAM,AAAQ,8CAAC,AAAO,AAAC;AACvB,AAAM,eAAC,IAAI,AAAQ,SAAC,AAAO,AAAC,AAC9B;AAAC;;;;;;;;;;;AAxBD,AAAO,AAAE,AAAQ,AAAE,AAAM,AAAE,AAAM,AAAY;;;;AAC7C,AAAO,AAAK,AAAI,AAAM,AAAM;;;;AAE5B,AAAO,AAAE,AAAI,AAAE,AAAK,AAAE,AAAM,AAAc,AAE1C,AAAM;;;;;;;AACJ,gBAAqB,AAAe;AAAf,aAAO,UAAP,AAAO,AAAQ,AACpC;AAAC;AAED,AAAW,gBAAC,AAAY;AACtB,AAAM,eAAC,AAAI,MAAC,AAAI,KAAC,AAAI,KAAC,AAAO,SAAE,AAAI,AAAC,AACtC;AAAC;AAEK,AAAO,WAAb,AAAK;;;;AACH,AAAE,AAAC,gBAAC,CAAC,AAAK,4CAAC,AAAO,AAAC,SAAC,AAAC;AACnB,sBAAM,AAAM,4CAAC,AAAI,MAAC,AAAO,AAAC,AAC5B;AAAC,AACH;;AAAC,AACF,AAED,AAAM","sourcesContent":["import { emptyDir, remove } from \"fs-extra-p\"\nimport * as path from \"path\"\nimport { Target } from \"../core\"\nimport { Arch, debug } from \"builder-util\"\n\nexport class StageDir {\n  constructor(readonly tempDir: string) {\n  }\n\n  getTempFile(name: string) {\n    return path.join(this.tempDir, name)\n  }\n\n  async cleanup() {\n    if (!debug.enabled) {\n      await remove(this.tempDir)\n    }\n  }\n}\n\nexport async function createHelperDir(target: Target, arch: Arch): Promise<StageDir> {\n  const tempDir = path.join(target.outDir, `__${target.name}-temp-${Arch[arch]}`)\n  await emptyDir(tempDir)\n  return new StageDir(tempDir)\n}"]}
